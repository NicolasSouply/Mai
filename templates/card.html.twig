{% extends 'layout.html.twig' %}

{% block main %}
<main class="content">
    <section class="card-page">
        <section class="card-page__container">
            <div class="card-page__blur">
                <h3>La carte</h3>
            </div>
        </section>
    </section>

    <section class="dishes-section">
        <div class="content">
            <aside class="sidebar">
                <ul>
                    <li><a href="#starter">Nos entrées</a></li>
                    <li><a href="#main-courses">Nos plats</a></li>
                    <li><a href="#desserts">Nos desserts</a></li>
                    <li><a href="#drinks">Nos boissons</a></li>
                    <button class="filter-button" id="filter-vegetarian">Filtre pour les plats végétariens</button>
                </ul>
            </aside>

            <div class="dishes-list">
                <!-- Entrées -->
                <div id="starter" class="dish-category">
                    <h3>Nos entrées</h3>
                    <div class="grid-container">
                        {% for dish in dishes %}
                            {% if dish.category == 'entrée' %}
                                <div class="dish-item">
                                    <p>Nom : {{ dish.name }}</p>
                                    <p>Description : {{ dish.description }}</p>
                                    <p>Prix : {{ dish.price }}€</p>
                                    <p>Végétarien : {{ dish.isVegetarian ? 'Oui' : 'Non' }}</p>
                                    <img src="/private/uploads/{{ dish.picture }}" alt="{{ dish.name }}" class="dish-image">
                                </div>
                            {% endif %}
                        {% else %}
                            <p>Aucune entrée disponible pour le moment.</p>
                        {% endfor %}
                    </div>
                </div>

                <!-- Plats -->
                <div id="main-courses" class="dish-category">
                    <h3>Nos plats</h3>
                    <div class="grid-container">
                        {% for dish in dishes %}
                            {% if dish.category == 'plat' %}
                                <div class="dish-item">
                                    <p>Nom : {{ dish.name }}</p>
                                    <p>Description : {{ dish.description }}</p>
                                    <p>Prix : {{ dish.price }}€</p>
                                    <p>Végétarien : {{ dish.isVegetarian ? 'Oui' : 'Non' }}</p>
                                    <img src="/private/uploads/{{ dish.picture }}" alt="{{ dish.name }}" class="dish-image">
                                </div>
                            {% endif %}
                        {% else %}
                            <p>Aucun plat disponible pour le moment.</p>
                        {% endfor %}
                    </div>
                </div>

                <!-- Desserts -->
                <div id="desserts" class="dish-category">
                    <h3>Nos desserts</h3>
                    <div class="grid-container">
                        {% for dish in dishes %}
                            {% if dish.category == 'dessert' %}
                                <div class="dish-item">
                                    <p>Nom : {{ dish.name }}</p>
                                    <p>Description : {{ dish.description }}</p>
                                    <p>Prix : {{ dish.price }}€</p>
                                    <p>Végétarien : {{ dish.isVegetarian ? 'Oui' : 'Non' }}</p>
                                    <img src="/private/uploads/{{ dish.picture }}" alt="{{ dish.name }}" class="dish-image">
                                </div>
                            {% endif %}
                        {% else %}
                            <p>Aucun dessert disponible pour le moment.</p>
                        {% endfor %}
                    </div>
                </div>

                <!-- Boissons -->
                <div id="drinks" class="dish-category">
                    <h3>Nos boissons</h3>
                    <div class="grid-container">
                        {% for dish in dishes %}
                            {% if dish.category == 'boisson' %}
                                <div class="dish-item">
                                    <p>Nom : {{ dish.name }}</p>
                                    <p>Description : {{ dish.description }}</p>
                                    <p>Prix : {{ dish.price }}€</p>
                                    <p>Végétarien : {{ dish.isVegetarian ? 'Oui' : 'Non' }}</p>
                                    <img src="/private/uploads/{{ dish.picture }}" alt="{{ dish.name }}" class="dish-image">
                                </div>
                            {% endif %}
                        {% else %}
                            <p>Aucune boisson disponible pour le moment.</p>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Modal -->
<div class="modal" id="dish-modal">
    <div class="modal-content">
        <span class="close-button" id="close-modal">&times;</span>
        <h3 id="modal-title"></h3>
        <img id="modal-image" src="" alt="">
        <p id="modal-category"></p>
        <p id="modal-description"></p>
        <p id="modal-price"></p>
        <p id="modal-vegetarian"></p>
    </div>
</div>
{% endblock %}
